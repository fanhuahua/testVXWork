(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-568f7644"],{"101f":function(e,t,n){},1148:function(e,t,n){"use strict";var a=n("a691"),o=n("1d80");e.exports=function(e){var t=String(o(this)),n="",r=a(e);if(r<0||r==1/0)throw RangeError("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(t+=t))1&r&&(n+=t);return n}},"1dd3":function(e,t,n){"use strict";n("d32f")},2241:function(e,t,n){"use strict";var a,o=n("7a23"),r=n("db17"),c=n("c199"),i=n("1da4"),l=n("d282"),s=n("7e3e"),u=n("8da3"),d=n("b1d2"),f=n("ea8e"),b=n("f827"),m=n("e41f"),j=n("b650"),p=n("d3d4"),O=n("a792"),[g,v,h]=Object(l["a"])("dialog"),x=[...b["a"],"transition","closeOnPopstate"],y=Object(o["defineComponent"])({name:g,props:Object(r["a"])({},b["b"],{title:String,theme:String,width:[Number,String],message:[String,Function],callback:Function,allowHtml:Boolean,className:r["g"],messageAlign:String,closeOnPopstate:r["f"],showCancelButton:Boolean,cancelButtonText:String,cancelButtonColor:String,confirmButtonText:String,confirmButtonColor:String,showConfirmButton:r["f"],closeOnClickOverlay:Boolean,transition:{type:String,default:"van-dialog-bounce"}}),emits:["confirm","cancel","update:show"],setup(e,{emit:t,slots:n}){var a=Object(o["reactive"])({confirm:!1,cancel:!1}),c=e=>t("update:show",e),i=t=>{c(!1),e.callback&&e.callback(t)},l=n=>()=>{e.show&&(t(n),e.beforeClose?(a[n]=!0,Object(s["a"])({interceptor:e.beforeClose,args:[n],done(){i(n),a[n]=!1},canceled(){a[n]=!1}})):i(n))},b=l("cancel"),g=l("confirm"),y=()=>{var t=n.title?n.title():e.title;if(t)return Object(o["createVNode"])("div",{class:v("header",{isolated:!e.message&&!n.default})},[t])},V=t=>{var{message:n,allowHtml:a,messageAlign:r}=e,c=v("message",{"has-title":t,[r]:r}),i=Object(u["c"])(n)?n():n;return a&&"string"===typeof i?Object(o["createVNode"])("div",{class:c,innerHTML:i},null):Object(o["createVNode"])("div",{class:c},[i])},N=()=>{if(n.default)return Object(o["createVNode"])("div",{class:v("content")},[n.default()]);var{title:t,message:a,allowHtml:r}=e;if(a){var c=!(!t&&!n.title);return Object(o["createVNode"])("div",{key:r?1:0,class:v("content",{isolated:!c})},[V(c)])}},w=()=>Object(o["createVNode"])("div",{class:[d["e"],v("footer")]},[e.showCancelButton&&Object(o["createVNode"])(j["a"],{size:"large",text:e.cancelButtonText||h("cancel"),class:v("cancel"),style:{color:e.cancelButtonColor},loading:a.cancel,onClick:b},null),e.showConfirmButton&&Object(o["createVNode"])(j["a"],{size:"large",text:e.confirmButtonText||h("confirm"),class:[v("confirm"),{[d["c"]]:e.showCancelButton}],style:{color:e.confirmButtonColor},loading:a.confirm,onClick:g},null)]),S=()=>Object(o["createVNode"])(p["a"],{class:v("footer")},{default:()=>[e.showCancelButton&&Object(o["createVNode"])(O["a"],{type:"warning",text:e.cancelButtonText||h("cancel"),class:v("cancel"),color:e.cancelButtonColor,loading:a.cancel,onClick:b},null),e.showConfirmButton&&Object(o["createVNode"])(O["a"],{type:"danger",text:e.confirmButtonText||h("confirm"),class:v("confirm"),color:e.confirmButtonColor,loading:a.confirm,onClick:g},null)]}),k=()=>n.footer?n.footer():"round-button"===e.theme?S():w();return()=>{var{width:t,title:n,theme:a,message:i,className:l}=e;return Object(o["createVNode"])(m["a"],Object(o["mergeProps"])({role:"dialog",class:[v([a]),l],style:{width:Object(f["a"])(t)},"aria-labelledby":n||i},Object(r["e"])(e,x),{"onUpdate:show":c}),{default:()=>[y(),N(),k()]})}}});function V(){var e={setup(){var{state:e,toggle:t}=Object(i["b"])();return()=>Object(o["createVNode"])(y,Object(o["mergeProps"])(e,{"onUpdate:show":t}),null)}};({instance:a}=Object(i["a"])(e))}function N(e){return r["c"]?new Promise((t,n)=>{a||V(),a.open(Object(r["a"])({},N.currentOptions,e,{callback:e=>{("confirm"===e?t:n)(e)}}))}):Promise.resolve()}N.defaultOptions={title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:"van-dialog-bounce",beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,confirmButtonText:"",confirmButtonColor:null,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1},N.currentOptions=Object(r["a"])({},N.defaultOptions),N.alert=N,N.confirm=e=>N(Object(r["a"])({showCancelButton:!0},e)),N.close=()=>{a&&a.toggle(!1)},N.setDefaultOptions=e=>{Object(r["a"])(N.currentOptions,e)},N.resetDefaultOptions=()=>{N.currentOptions=Object(r["a"])({},N.defaultOptions)},N.Component=Object(c["a"])(y),N.install=e=>{e.use(N.Component),e.config.globalProperties.$dialog=N};t["a"]=N},"2fcb":function(e,t,n){},"408a":function(e,t,n){var a=n("c6b6");e.exports=function(e){if("number"!=typeof e&&"Number"!=a(e))throw TypeError("Incorrect invocation");return+e}},"4fe9":function(e,t,n){"use strict";n("101f")},9342:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return c}));var a=n("b775");function o(e){return Object(a["b"])({url:"/ky/hxxmjt/"+e,method:"get",loadingLoader:"getXmjt"})}function r(e){return Object(a["b"])({url:"/ky/hxxmjt",method:e.id?"put":"post",data:e,loadingLoader:"saveXmjt"})}function c(e){return Object(a["b"])({url:"/ky/jgxx/getPtList",method:"get",params:e})}},b6802:function(e,t,n){"use strict";var a=n("23e7"),o=n("a691"),r=n("408a"),c=n("1148"),i=n("d039"),l=1..toFixed,s=Math.floor,u=function(e,t,n){return 0===t?n:t%2===1?u(e,t-1,n*e):u(e*e,t/2,n)},d=function(e){var t=0,n=e;while(n>=4096)t+=12,n/=4096;while(n>=2)t+=1,n/=2;return t},f=function(e,t,n){var a=-1,o=n;while(++a<6)o+=t*e[a],e[a]=o%1e7,o=s(o/1e7)},b=function(e,t){var n=6,a=0;while(--n>=0)a+=e[n],e[n]=s(a/t),a=a%t*1e7},m=function(e){var t=6,n="";while(--t>=0)if(""!==n||0===t||0!==e[t]){var a=String(e[t]);n=""===n?a:n+c.call("0",7-a.length)+a}return n},j=l&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!i((function(){l.call({})}));a({target:"Number",proto:!0,forced:j},{toFixed:function(e){var t,n,a,i,l=r(this),s=o(e),j=[0,0,0,0,0,0],p="",O="0";if(s<0||s>20)throw RangeError("Incorrect fraction digits");if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(p="-",l=-l),l>1e-21)if(t=d(l*u(2,69,1))-69,n=t<0?l*u(2,-t,1):l/u(2,t,1),n*=4503599627370496,t=52-t,t>0){f(j,0,n),a=s;while(a>=7)f(j,1e7,0),a-=7;f(j,u(10,a,1),0),a=t-1;while(a>=23)b(j,1<<23),a-=23;b(j,1<<a),f(j,1,1),b(j,2),O=m(j)}else f(j,0,n),f(j,1<<-t,0),O=m(j)+c.call("0",s);return s>0?(i=O.length,O=p+(i<=s?"0."+c.call("0",s-i)+O:O.slice(0,i-s)+"."+O.slice(i-s))):O=p+O,O}})},bc10:function(e,t,n){"use strict";n.r(t);var a=n("f3f3"),o=(n("b6802"),n("7a23")),r=Object(o["withScopeId"])("data-v-7c5d9723");Object(o["pushScopeId"])("data-v-7c5d9723");var c={key:0},i=Object(o["createVNode"])("div",null,[Object(o["createVNode"])("span",null,"科目名称（单位：万元）"),Object(o["createVNode"])("span",{class:"tzh"},"调整后"),Object(o["createVNode"])("span",{class:"yjf"},"原经费")],-1),l={class:"tzh"},s={class:"yjf"},u={class:"tzh"},d={class:"tzh"};Object(o["popScopeId"])();var f=r((function(e,t,n,f,b,m){var j=Object(o["resolveComponent"])("van-cell"),p=Object(o["resolveComponent"])("s-uploader"),O=Object(o["resolveComponent"])("van-field"),g=Object(o["resolveComponent"])("van-cell-group"),v=Object(o["resolveComponent"])("ApprovalCommon");return Object(o["openBlock"])(),Object(o["createBlock"])(v,Object(o["mergeProps"])(f.state,{"type-name":"横向项目变更",applyInfo:Object(a["a"])({},f.state),"before-submit-validate":f.onValidate,chooseParams:f.chooseParams,onSubmit:f.onSubmit,style:{"padding-bottom":"0px"}}),{default:r((function(){return[Object(o["createVNode"])(g,{inset:""},{default:r((function(){return[Object(o["createVNode"])(j,{title:"要变更的项目"},{default:r((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(f.state.xmmcBefore),1)]})),_:1}),Object(o["createVNode"])(j,{title:"项目编号（内部）"},{default:r((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(f.state.xmbh),1)]})),_:1}),Object(o["createVNode"])(j,{title:"负责人"},{default:r((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(f.state.fzr),1)]})),_:1}),Object(o["createVNode"])(j,{title:"项目名称是否变更"},{default:r((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(f.state.xgmc?"是":"否"),1)]})),_:1}),Object(o["createVNode"])(j,{title:"变更前"},{default:r((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(f.state.xmmcBefore),1)]})),_:1}),Object(o["createVNode"])(j,{title:"变更后"},{default:r((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(f.state.xmmc),1)]})),_:1}),Object(o["createVNode"])(j,{title:"项目描述是否变更"},{default:r((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(f.state.xgms?"是":"否"),1)]})),_:1}),Object(o["createVNode"])(j,{title:"变更前"},{default:r((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(f.state.remarkBefore),1)]})),_:1}),Object(o["createVNode"])(j,{title:"变更后"},{default:r((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(f.state.remark),1)]})),_:1}),Object(o["createVNode"])(j,{title:"变更理由"},{default:r((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(f.state.yjyysm),1)]})),_:1}),Object(o["createVNode"])(O,{name:"uploader",label:"文件上传"},{input:r((function(){return[Object(o["createVNode"])(p,{modelValue:f.state.fj,"onUpdate:modelValue":t[1]||(t[1]=function(e){return f.state.fj=e}),disabled:f.disabled},null,8,["modelValue","disabled"])]})),_:1}),Object(o["createVNode"])(j,{title:"经费预算是否变更"},{default:r((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(f.state.xgjf?"是":"否"),1)]})),_:1}),f.state.xgjf?(Object(o["openBlock"])(),Object(o["createBlock"])("div",c,[Object(o["createVNode"])(j,null,{default:r((function(){return[i]})),_:1}),(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(f.state.xmjfysList,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(j,{title:e.kmmc,class:f.classMap[e.fkmid]},{default:r((function(){return[Object(o["createVNode"])("span",l,Object(o["toDisplayString"])(f.setTzhje(e.tzhje,e.kmid).toFixed(2)),1),Object(o["createVNode"])("span",s,Object(o["toDisplayString"])(f.setJe(e.je,e.kmid).toFixed(2)),1)]})),_:2},1032,["title","class"])})),256)),Object(o["createVNode"])(j,{title:"原经费金额合计"},{default:r((function(){return[Object(o["createVNode"])("span",u,Object(o["toDisplayString"])(f.jeTotal.toFixed(2)),1)]})),_:1}),Object(o["createVNode"])(j,{title:"调整后金额合计"},{default:r((function(){return[Object(o["createVNode"])("span",d,Object(o["toDisplayString"])(f.tzhjeTotal.toFixed(2)),1)]})),_:1})])):Object(o["createCommentVNode"])("",!0)]})),_:1})]})),_:1},16,["applyInfo","before-submit-validate","chooseParams","onSubmit"])})),b=(n("9a83"),n("f564")),m=(n("e17f"),n("2241")),j=n("d0ff"),p=(n("99af"),n("7db0"),n("f602")),O=n("135f"),g=n("6c02"),v=n("b775");function h(e){return Object(v["b"])({url:"/ky/hxxmyq/"+e,method:"get",loadingLoader:"getXmyq"})}function x(e){return Object(v["b"])({url:"/ky/hxxmyq",method:e.id?"put":"post",data:e,loadingLoader:"saveXmyq"})}var y=n("9342"),V={name:"hxxmbg",components:{ApprovalCommon:O["a"],SUploader:p["a"]},setup:function(){var e=Object(o["reactive"])({authority:{canEdit:!0},id:0}),t=Object(o["ref"])(!1),n=Object(o["ref"])(null),r=Object(g["d"])(),c=Object(o["ref"])(0),i=Object(o["ref"])(0),l=Object(o["reactive"])({deptId:void 0,deptNo:void 0}),s=Object(o["ref"])([]);Object(y["a"])().then((function(e){var t=e.data,n=t.kyjg,a=t.xkjs,o=t.kytd,r=t.yjzx;s.value=[].concat(Object(j["a"])(n),Object(j["a"])(a),Object(j["a"])(o),Object(j["a"])(r))}));var u=Object(g["c"])(),d=u.query;d.id?h(d.id).then((function(n){var a,o;Object.assign(e,n.data),t.value=!(null!==(a=e.authority)&&void 0!==a&&a.canEdit);for(var r=0;r<e.xmjfysList.length;r++)c.value+=e.xmjfysList[r].je;for(var s=0;s<e.xmjfysList.length;s++)i.value+=e.xmjfysList[s].tzhje;l.deptId=v(e.xmxx.ssjgdm),l.deptNo=e.xmxx.ssyxdm,null!==(o=e.authority)&&void 0!==o&&o.canEdit&&(m["a"].alert({message:"需要编辑请访问PC端",confirmButtonText:"好的"}),e.authority.canEdit=null)})):m["a"].alert({message:"需要项目变更请访问PC端",confirmButtonText:"返回"}).then((function(){r.back()}));var f={0:"first",1:"second",17:"second",2:"third",20:"second"},p=function(t,n){var a=0;if(1==n){for(var o=2;o<16;o++)a+=e.xmjfysList[o].je;return a}if(2==n){for(var r=2;r<5;r++)a+=e.xmjfysList[r].je;return a}if(17==n){for(var c=17;c<19;c++)a+=e.xmjfysList[c].je;return a}if(20==n){for(var i=20;i<e.xmjfysList.length;i++)a+=e.xmjfysList[i].je;return a}return t},O=function(t,n){var a=0;if(1==n){for(var o=2;o<16;o++)a+=e.xmjfysList[o].tzhje;return a}if(2==n){for(var r=2;r<5;r++)a+=e.xmjfysList[r].tzhje;return a}if(17==n){for(var c=17;c<19;c++)a+=e.xmjfysList[c].tzhje;return a}if(20==n){for(var i=20;i<e.xmjfysList.length;i++)a+=e.xmjfysList[i].tzhje;return a}return t},v=function(e){return e?s.value.find((function(t){return t.jgdm===e})).deptId:void 0},V=function(){var e;return null===(e=n.value)||void 0===e?void 0:e.validate()},N=function(t){var n=Object(a["a"])(Object(a["a"])({},t),e);n.processParam=t.processParam,x(n,null,"提交中").then((function(e){0===e.code&&(Object(b["a"])({type:"success",message:"提交成功",duration:1e3}),r.back())}))};return{state:e,formRef:n,disabled:t,chooseParams:l,classMap:f,jeTotal:c,tzhjeTotal:i,setJe:p,setTzhje:O,onSubmit:N,onValidate:V}}};n("4fe9");V.render=f,V.__scopeId="data-v-7c5d9723";t["default"]=V},d32f:function(e,t,n){},e17f:function(e,t,n){"use strict";n("68ef"),n("d4ef"),n("cb51"),n("3743"),n("e3b3"),n("bc1b"),n("1703"),n("a71a"),n("4d75"),n("2fcb")},f602:function(e,t,n){"use strict";n("b0c0");var a=n("7a23"),o=Object(a["withScopeId"])("data-v-d08a5ff4"),r=o((function(e,t,n,r,c,i){var l=Object(a["resolveComponent"])("van-icon"),s=Object(a["resolveComponent"])("Uploader");return Object(a["openBlock"])(),Object(a["createBlock"])(s,{modelValue:r.fileList,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.fileList=e}),"before-read":r.beforeRead,"after-read":r.afterRead,"max-size":r.isOverSize,"max-count":n.maxCount,accept:n.accept,"show-upload":!n.disabled,deletable:!n.disabled,name:n.name,onDelete:r.onDelete},{"preview-cover":o((function(e){return[Object(a["createVNode"])("div",{class:"mask-content",onClick:Object(a["withModifiers"])((function(t){return r.fileDownLoad(e)}),["stop"])},[Object(a["createVNode"])(l,{name:"down",class:"icon"})],8,["onClick"])]})),_:1},8,["modelValue","before-read","after-read","max-size","max-count","accept","show-upload","deletable","name","onDelete"])})),c=(n("9a83"),n("f564")),i=n("fc11"),l=(n("480b"),n("a37c")),s=(n("e930"),n("8f80")),u=(n("a9e3"),n("d81d"),n("ac1f"),n("1276"),n("4de4"),n("a15b"),n("2934")),d={name:"SUploader",components:Object(i["a"])({Uploader:s["a"]},l["a"].name,l["a"]),props:{modelValue:String,name:String,disabled:{type:Boolean,required:!1},type:{type:[String,void 0],validator:function(e){return void 0===e||-1!==["link"].indexOf(e)}},accept:{type:String,default:".rar,.zip,.doc,.docx,.pdf,.jpg,.png"},maxSize:{type:Number,default:50},maxCount:{type:Number,default:6}},setup:function(e,t){var n=Object(a["ref"])([]),o="link"===e.type,r=function(e){var t=/\.(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg)/i;return t.test(e)};Object(a["watch"])((function(){return e.modelValue}),(function(t,a){var c;o?n.value=null===(c=e.modelValue)||void 0===c?void 0:c.split(",").map((function(e){return{id:e,status:"done",url:e}})):!a&&t&&"-2"!==t?Object(u["h"])({ids:t}).then((function(e){0===e.code&&(n.value=e.data.map((function(e){return{id:e.id,name:e.fname,status:"done",url:r(e.furl)?e.furl:e.fname}})))})):t||(n.value=[])}),{immediate:!0}),Object(a["watch"])((function(){return n.value}),(function(e,n){var a=e.filter((function(e){return"uploading"!==e.status})).map((function(e){return e.id}));0===e.length?t.emit("update:modelValue",""):0===a.length?t.emit("update:modelValue","-2"):t.emit("update:modelValue",a.join(","))}),{deep:!0});var i=function(t){var n=t.size/1024/1024<e.maxSize;return n||Object(c["a"])({type:"warning",message:"上传的文件不能超过".concat(e.maxSize,"MB"),duration:1e3}),!n},l=function(e,t){return!0},s=function(e,t){e.status="uploading",e.message="上传中...";var n=new FormData;n.append("ft",""),n.append("file",e.file),(o?u["f"]:u["e"])(n).then((function(t){0===t.code&&(e.status="done",e.message="上传成功",e.id=o?t.msg:t.data)})).catch((function(){e.status="failed",e.message="上传失败"}))},d=function(e,t){},f=function(){};return{fileList:n,onDelete:d,isOverSize:i,beforeRead:l,afterRead:s,fileDownLoad:f}}};n("1dd3");d.render=r,d.__scopeId="data-v-d08a5ff4";t["a"]=d}}]);