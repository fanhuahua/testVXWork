(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2457a99e"],{"3df0":function(e,t,l){"use strict";var a,n=l("7a23"),o=Object(n["withScopeId"])("data-v-7a85f5fa"),r=o((function(e,t,l,a,r,c){var d=Object(n["resolveComponent"])("van-field"),u=Object(n["resolveComponent"])("van-row"),m=Object(n["resolveComponent"])("van-cell"),s=Object(n["resolveComponent"])("van-checkbox"),i=Object(n["resolveComponent"])("van-cell-group"),b=Object(n["resolveComponent"])("van-checkbox-group"),f=Object(n["resolveComponent"])("van-popup");return Object(n["openBlock"])(),Object(n["createBlock"])(n["Fragment"],null,[Object(n["createVNode"])(d,{modelValue:l.modelValue,"onUpdate:modelValue":t[1]||(t[1]=function(e){return l.modelValue=e}),readonly:"",clickable:"",label:l.label,placeholder:l.placeholder,onClick:a.Click,rules:l.rules,required:!!l.rules},null,8,["modelValue","label","placeholder","onClick","rules","required"]),Object(n["createVNode"])(f,{show:a.showPicker,"onUpdate:show":t[6]||(t[6]=function(e){return a.showPicker=e}),round:"",position:"bottom"},{default:o((function(){return[Object(n["createVNode"])(m,null,{default:o((function(){return[Object(n["createVNode"])(u,{justify:"space-between"},{default:o((function(){return[Object(n["createVNode"])("span",{onClick:t[2]||(t[2]=Object(n["withModifiers"])((function(){return a.cancel&&a.cancel.apply(a,arguments)}),["stop"]))},"取消"),Object(n["createVNode"])("span",{onClick:t[3]||(t[3]=Object(n["withModifiers"])((function(){return a.confirm&&a.confirm.apply(a,arguments)}),["stop"])),style:{color:"#0000cc"}},"确定")]})),_:1})]})),_:1}),Object(n["createVNode"])(b,{modelValue:a.checked,"onUpdate:modelValue":t[5]||(t[5]=function(e){return a.checked=e})},{default:o((function(){return[Object(n["createVNode"])(i,null,{default:o((function(){return[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(l.columns,(function(e,l){return Object(n["openBlock"])(),Object(n["createBlock"])(m,{clickable:"",key:e,title:"".concat(e),onClick:function(e){return a.toggle(l)}},{"right-icon":o((function(){return[Object(n["createVNode"])(s,{name:e,onClick:t[4]||(t[4]=Object(n["withModifiers"])((function(){}),["stop"])),ref:function(e){return a.checkboxRefs[l]=e}},null,8,["name"])]})),_:2},1032,["title","onClick"])})),128))]})),_:1})]})),_:1},8,["modelValue"])]})),_:1},8,["show"])],64)})),c=l("54f8"),d=(l("e7e5"),l("d399")),u=l("fc11"),m=(l("a909"),l("3acc")),s=(l("3c32"),l("417e")),i=(l("b0c0"),l("a15b"),l("ac1f"),l("1276"),l("caad"),l("2532"),{components:(a={},Object(u["a"])(a,s["a"].name,s["a"]),Object(u["a"])(a,m["a"].name,m["a"]),a),props:{modelValue:{},label:{},placeholder:{},disabled:{},columns:{},rules:{},max:{}},setup:function(e,t){var l=Object(n["ref"])([]),a=Object(n["ref"])(!1),o=Object(n["ref"])([]),r=function(){l.value.length>e.max?d["a"].fail("最多选择".concat(e.max,"个")):(t.emit("update:modelValue",l.value.join(";")),a.value=!1)},u=function(e){o.value[e].toggle()},m=function(){a.value=!1},s=function(){if(!e.disabled){a.value=!0;var t=l.value.join(";");e.modelValue&&e.modelValue!=t&&Object(n["nextTick"])((function(){var t,l=e.modelValue.split(";"),a=Object(c["a"])(o.value);try{var n=function(){var e=t.value;l.includes(e.name)?setTimeout((function(){e.toggle(!0)})):setTimeout((function(){e.toggle(!1)}))};for(a.s();!(t=a.n()).done;)n()}catch(r){a.e(r)}finally{a.f()}}))}};return{showPicker:a,checked:l,checkboxRefs:o,confirm:r,toggle:u,cancel:m,Click:s}}});i.render=r,i.__scopeId="data-v-7a85f5fa";t["a"]=i},"54f8":function(e,t,l){"use strict";l.d(t,"a",(function(){return n}));l("a4d3"),l("e01a"),l("d3b7"),l("d28b"),l("3ca3"),l("ddb0");var a=l("dde1");function n(e,t){var l="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!l){if(Array.isArray(e)||(l=Object(a["a"])(e))||t&&e&&"number"===typeof e.length){l&&(e=l);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,c=!0,d=!1;return{s:function(){l=l.call(e)},n:function(){var e=l.next();return c=e.done,e},e:function(e){d=!0,r=e},f:function(){try{c||null==l["return"]||l["return"]()}finally{if(d)throw r}}}}},"8a79":function(e,t,l){"use strict";var a=l("23e7"),n=l("06cf").f,o=l("50c4"),r=l("5a34"),c=l("1d80"),d=l("ab13"),u=l("c430"),m="".endsWith,s=Math.min,i=d("endsWith"),b=!u&&!i&&!!function(){var e=n(String.prototype,"endsWith");return e&&!e.writable}();a({target:"String",proto:!0,forced:!b&&!i},{endsWith:function(e){var t=String(c(this));r(e);var l=arguments.length>1?arguments[1]:void 0,a=o(t.length),n=void 0===l?a:s(o(l),a),d=String(e);return m?m.call(t,d,n):t.slice(n-d.length,n)===d}})},aa6c:function(e,t,l){"use strict";l.r(t);var a=l("7a23");function n(e,t,l,n,o,r){var c=Object(a["resolveComponent"])("van-field"),d=Object(a["resolveComponent"])("s-picker"),u=Object(a["resolveComponent"])("SDatetimePicker"),m=Object(a["resolveComponent"])("Selects"),s=Object(a["resolveComponent"])("van-cell-group"),i=Object(a["resolveComponent"])("AddOrEditModal");return Object(a["openBlock"])(),Object(a["createBlock"])(i,{mdl:n.state.mdl,save:n.saveHylw,name:"hylw",chooseParams:n.cparams.chooseParams},{content:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(s,{inset:""},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(c,{modelValue:n.state.mdl.lwtm,"onUpdate:modelValue":t[1]||(t[1]=function(e){return n.state.mdl.lwtm=e}),rules:[{required:!0,message:"请输入论文题目"}],label:"论文题目",name:"lwtm",required:"",maxlength:"50"},null,8,["modelValue"]),Object(a["createVNode"])(d,{modelValue:n.state.mdl.lwlb,"onUpdate:modelValue":t[2]||(t[2]=function(e){return n.state.mdl.lwlb=e}),columns:n.dict.ky_kycg_lwlb,"columns-field-names":{text:"dictLabel",setValue:"dictLabel"},rules:[{required:!0,message:"请选择"}],label:"论文类别",name:"lwlb"},null,8,["modelValue","columns"]),Object(a["createVNode"])(d,{modelValue:n.state.mdl.yz,"onUpdate:modelValue":t[3]||(t[3]=function(e){return n.state.mdl.yz=e}),columns:n.dict.ky_kycg_yz,"columns-field-names":{text:"dictLabel",setValue:"dictLabel"},rules:[{required:!0,message:"请选择"}],label:"语种",name:"yz"},null,8,["modelValue","columns"]),Object(a["createVNode"])(c,{modelValue:n.state.mdl.zy,"onUpdate:modelValue":t[4]||(t[4]=function(e){return n.state.mdl.zy=e}),label:"摘要",name:"zy",maxlength:"601",type:"textarea",rows:"3"},null,8,["modelValue"]),Object(a["createVNode"])(c,{modelValue:n.state.mdl.gjc,"onUpdate:modelValue":t[5]||(t[5]=function(e){return n.state.mdl.gjc=e}),label:"关键词",name:"gjc",maxlength:"50"},null,8,["modelValue"]),Object(a["createVNode"])(c,{modelValue:n.state.mdl.wzh,"onUpdate:modelValue":t[6]||(t[6]=function(e){return n.state.mdl.wzh=e}),label:"文章号",name:"gwzh",maxlength:"50"},null,8,["modelValue"]),Object(a["createVNode"])(c,{modelValue:n.state.mdl.hymc,"onUpdate:modelValue":t[7]||(t[7]=function(e){return n.state.mdl.hymc=e}),rules:[{required:!0,message:"请输入会议名称"}],label:"会议名称",name:"hymc",required:"",maxlength:"50"},null,8,["modelValue"]),Object(a["createVNode"])(c,{modelValue:n.state.mdl.hyfzr,"onUpdate:modelValue":t[8]||(t[8]=function(e){return n.state.mdl.hyfzr=e}),rules:[{required:!0,message:"请输入会议负责人"}],label:"会议负责人",name:"hyfzr",required:"",maxlength:"50"},null,8,["modelValue"]),Object(a["createVNode"])(u,{modelValue:n.state.mdl.hyksrq,"onUpdate:modelValue":t[9]||(t[9]=function(e){return n.state.mdl.hyksrq=e}),rules:[{required:!0,message:"请选择"},{validator:n.dateValidator,message:"开始日期要小于结束日期"}],label:"会议开始日期",name:"hyksrq","value-format":"YYYY-MM-DD"},null,8,["modelValue","rules"]),Object(a["createVNode"])(u,{modelValue:n.state.mdl.hyjsrq,"onUpdate:modelValue":t[10]||(t[10]=function(e){return n.state.mdl.hyjsrq=e}),rules:[{required:!0,message:"请选择"},,{validator:n.dateValidator,message:"开始日期要小于结束日期"}],label:"会议结束日期",name:"hyjsrq","value-format":"YYYY-MM-DD"},null,8,["modelValue","rules"]),Object(a["createVNode"])(c,{modelValue:n.state.mdl.hydz,"onUpdate:modelValue":t[11]||(t[11]=function(e){return n.state.mdl.hydz=e}),rules:[{required:!0,message:"请输入会议地区"}],label:"会议地区",name:"hydz",required:"",maxlength:"50"},null,8,["modelValue"]),Object(a["createVNode"])(u,{modelValue:n.state.mdl.fbrq,"onUpdate:modelValue":t[12]||(t[12]=function(e){return n.state.mdl.fbrq=e}),rules:[{required:!0,message:"请选择"}],label:"发表日期",name:"fbrq","value-format":"YYYY-MM-DD"},null,8,["modelValue"]),Object(a["createVNode"])(m,{modelValue:n.state.mdl.srqk,"onUpdate:modelValue":t[13]||(t[13]=function(e){return n.state.mdl.srqk=e}),label:"收录情况",placeholder:"选择收录情况",disabled:n.disabled,columns:n.columns,max:"15",rules:[{required:!0,message:"收录情况"}]},null,8,["modelValue","disabled","columns"]),Object(a["createVNode"])(c,{modelValue:n.state.mdl.jjbz,"onUpdate:modelValue":t[14]||(t[14]=function(e){return n.state.mdl.jjbz=e}),label:"基金标注",name:"jjbz",maxlength:"50"},null,8,["modelValue"]),Object(a["createVNode"])(c,{modelValue:n.state.mdl.jh,"onUpdate:modelValue":t[15]||(t[15]=function(e){return n.state.mdl.jh=e}),label:"卷号",name:"jh",maxlength:"50"},null,8,["modelValue"]),Object(a["createVNode"])(c,{modelValue:n.state.mdl.qh,"onUpdate:modelValue":t[16]||(t[16]=function(e){return n.state.mdl.qh=e}),label:"期号",name:"qh",maxlength:"50"},null,8,["modelValue"]),Object(a["createVNode"])(c,{modelValue:n.state.mdl.ksym,"onUpdate:modelValue":t[17]||(t[17]=function(e){return n.state.mdl.ksym=e}),label:"开始页码",name:"ksym",type:"digit",rules:[{validator:n.pageValidator,message:"开始页码要小于结束页码"}],maxlength:"6"},null,8,["modelValue","rules"]),Object(a["createVNode"])(c,{modelValue:n.state.mdl.jsym,"onUpdate:modelValue":t[18]||(t[18]=function(e){return n.state.mdl.jsym=e}),label:"结束页码",type:"digit",name:"jsym",rules:[{validator:n.pageValidator,message:"开始页码要小于结束页码"}],maxlength:"6"},null,8,["modelValue","rules"]),Object(a["createVNode"])(c,{modelValue:n.state.mdl.doi,"onUpdate:modelValue":t[19]||(t[19]=function(e){return n.state.mdl.doi=e}),label:"DOI",name:"doi",maxlength:"50"},null,8,["modelValue"]),Object(a["createVNode"])(c,{modelValue:n.state.mdl.remark,"onUpdate:modelValue":t[20]||(t[20]=function(e){return n.state.mdl.remark=e}),label:"备注",name:"remark",type:"textarea",maxlength:"201",rows:"3"},null,8,["modelValue"])]})),_:1})]})),_:1},8,["mdl","save","chooseParams"])}var o=l("c964"),r=(l("d81d"),l("a15b"),l("8a79"),l("fb6a"),l("ac1f"),l("1276"),l("caad"),l("2532"),l("96cf"),l("056e")),c=l("b775");l("989b");function d(e){return Object(c["b"])({url:"/ky/hylw/"+e,method:"get",loadingLoader:"getHylw"})}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object(c["b"])({url:"/ky/hylw/",method:e.id?"put":"post",data:e,loadingLoader:"saveHylw".concat(t)})}var m=l("6c02"),s=l("3631"),i=l("b48e"),b=l("9670b"),f=l("3df0"),p={name:"Hylw",components:{AddOrEditModal:r["a"],SPicker:s["a"],SDatetimePicker:b["a"],Selects:f["a"]},props:{},setup:function(){Object(a["onMounted"])(Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));var e=Object(a["reactive"])({chooseParams:{}}),t=Object(m["c"])(),l=t.params,n=Object(i["c"])(["ky_kycg_lwlb","ky_kycg_yz","ky_kycg_srqk"]),r=Object(a["computed"])((function(){var e;return!(null!==(e=b.mdl.authority)&&void 0!==e&&e.canEdit)})),c=Object(a["computed"])((function(){if(n.ky_kycg_srqk)return n.ky_kycg_srqk.map((function(e){return e.dictLabel}))})),s=function(e){var t=new Date(b.mdl.hyksrq),l=new Date(b.mdl.hyjsrq);return t.getTime()-l.getTime()<=0},b=Object(a["reactive"])({mdl:{},pickers:{}});l.id?d(l.id).then((function(t){for(var l in b.mdl=t.data,e.chooseParams={deptNo:b.mdl.ssjgdm},b.mdl.srqk=b.mdl.srqkList.join(";"),b.mdl)l.endsWith("rq")&&b.mdl[l]&&(b.mdl[l]=b.mdl[l].slice(0,10))})):b.mdl={authority:{canEdit:!0}},Object(a["watch"])((function(){return b.mdl.srqk}),(function(e){e&&(b.mdl.srqkList=e.split(";"))}));var f=function(){if(b.mdl.ksym||b.mdl.jsym){var e=function(){return null!==b.mdl.ksym&&void 0!==b.mdl.ksym&&""!==b.mdl.ksym&&(null!==b.mdl.jsym&&void 0!==b.mdl.jsym&&""!==b.mdl.jsym)}();return!!e&&!(parseInt(b.mdl.ksym)>parseInt(b.mdl.jsym))}},p=function(e){b.pickers.showPicker=!1,b.mdl.srqk=b.mdl.srqk?b.mdl.srqk.includes(e)?b.mdl.srqk:b.mdl.srqk+";"+e:e};return{cparams:e,state:b,dict:n,columns:c,disabled:r,saveHylw:u,dateValidator:s,onConfirm:p,pageValidator:f}}};p.render=n;t["default"]=p}}]);