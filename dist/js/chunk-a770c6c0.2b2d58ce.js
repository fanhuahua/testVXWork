(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a770c6c0"],{"1dd3":function(e,t,n){"use strict";n("d32f")},4592:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return l})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return d}));var a=n("b775");function c(e){return Object(a["b"])({url:"/jw/xkgllxdk/cxkclb",method:"get",params:e})}function o(){return Object(a["b"])({url:"/jw/xkgllxdk/dqpz",method:"get"})}function l(e,t){return Object(a["b"])({url:"/jw/xkgllxdk",method:e.id?"put":"post",data:e,loadingLoader:"saveData"})}function r(e){return Object(a["b"])({url:"/jw/xkgllxdk/list",method:"get",params:e})}function d(e){return Object(a["b"])({url:"/jw/xkgllxdk/ "+e,method:"get"})}},"5df8":function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return l})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return d}));n("fd23");var a=n("b775");function c(e){return Object(a["b"])({url:"/jw/hkgl/list",method:"get",params:e})}function o(e){return Object(a["b"])({url:"/jw/hkgl/"+e,method:"get",loadingLoader:"getHkgl"})}function l(e,t,n){return Object(a["b"])({url:"/jw/hkgl",method:e.id?"put":"post",data:e,loadingLoader:"saveHkgl".concat(t?e.id:""),loadingTips:n})}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(a["b"])({url:"/jw/hkgl/hqHkkc",method:"get",params:e})}function d(e){return Object(a["b"])({url:"/jw/xsxx/getStu",method:"get",params:e,loadingLoader:"getMyself"})}},"92d8":function(e,t,n){"use strict";n.r(t);var a=n("f3f3"),c=n("7a23");function o(e,t,n,o,l,r){var d=Object(c["resolveComponent"])("van-field"),u=Object(c["resolveComponent"])("van-cell-group"),i=Object(c["resolveComponent"])("simple-table"),s=Object(c["resolveComponent"])("SUploader"),m=Object(c["resolveComponent"])("van-cell"),b=Object(c["resolveComponent"])("van-form"),f=Object(c["resolveComponent"])("ApprovalCommon");return Object(c["openBlock"])(),Object(c["createBlock"])(f,Object(c["mergeProps"])(o.state.mdl,{"type-name":"离校待考申请",applyInfo:Object(a["a"])({},o.state.mdl),"before-submit-validate":o.onValidate,onSubmit:o.onSubmit,btnLoading:e.$wait.is("saveData"),processInstanceId:o.state.mdl.processInstanceId}),{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(b,{ref:"formRef","scroll-to-error":"",disabled:o.disabled},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(u,{inset:""},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(d,{modelValue:o.state.mdl.ssxy,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.state.mdl.ssxy=e}),readonly:"",label:"学院"},null,8,["modelValue"]),Object(c["createVNode"])(d,{modelValue:o.state.mdl.nj,"onUpdate:modelValue":t[2]||(t[2]=function(e){return o.state.mdl.nj=e}),readonly:"",label:"年级"},null,8,["modelValue"]),Object(c["createVNode"])(d,{modelValue:o.state.mdl.zymc,"onUpdate:modelValue":t[3]||(t[3]=function(e){return o.state.mdl.zymc=e}),readonly:"",label:"专业"},null,8,["modelValue"]),Object(c["createVNode"])(d,{modelValue:o.state.mdl.bjmc,"onUpdate:modelValue":t[4]||(t[4]=function(e){return o.state.mdl.bjmc=e}),readonly:"",label:"班级"},null,8,["modelValue"]),Object(c["createVNode"])(d,{modelValue:o.state.mdl.xh,"onUpdate:modelValue":t[5]||(t[5]=function(e){return o.state.mdl.xh=e}),readonly:"",label:"学号"},null,8,["modelValue"]),Object(c["createVNode"])(d,{modelValue:o.state.mdl.xm,"onUpdate:modelValue":t[6]||(t[6]=function(e){return o.state.mdl.xm=e}),readonly:"",label:"学生"},null,8,["modelValue"]),Object(c["createVNode"])(d,{modelValue:o.state.mdl.xqjc,"onUpdate:modelValue":t[7]||(t[7]=function(e){return o.state.mdl.xqjc=e}),readonly:"",label:"学期"},null,8,["modelValue"])]})),_:1}),Object(c["createVNode"])(i,{columns:o.columns,style:{"margin-top":"10px"},"data-source":o.state.list},{cz:Object(c["withCtx"])((function(e,t,n){return[Object(c["createVNode"])("a",{onClick:Object(c["withModifiers"])((function(e){return o.del(n)}),["prevent"]),style:{color:"red"}},"删除",8,["onClick"])]})),_:1},8,["columns","data-source"]),Object(c["createVNode"])(u,{title:"材料文件",inset:""},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(m,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(s,{modelValue:o.state.mdl.fj,"onUpdate:modelValue":t[8]||(t[8]=function(e){return o.state.mdl.fj=e}),disabled:o.disabled},null,8,["modelValue","disabled"])]})),_:1})]})),_:1})]})),_:1},8,["disabled"])]})),_:1},16,["applyInfo","before-submit-validate","onSubmit","btnLoading","processInstanceId"])}var l,r=n("fc11"),d=(n("e7e5"),n("d399")),u=(n("b0c0"),n("caad"),n("2532"),n("a434"),n("135f")),i=n("f602"),s=n("6c02"),m=n("4592"),b=n("5df8"),f=n("bade"),p=n("d237"),j={components:(l={},Object(r["a"])(l,d["a"].name,d["a"]),Object(r["a"])(l,"ApprovalCommon",u["a"]),Object(r["a"])(l,"SUploader",i["a"]),Object(r["a"])(l,"SimpleTable",p["a"]),l),setup:function(){var e=Object(c["ref"])(null),t=Object(s["c"])(),n=Object(s["d"])(),a=[{title:"课程名称",dataIndex:"kcmc"},{title:"课程代码",dataIndex:"kcdm"},{title:"学分",dataIndex:"xf"},{type:"slot",title:"操作",dataIndex:"cz"}],o=Object(c["reactive"])({mdl:{authority:{canEdit:!0}},list:[],deleteIds:[],id:0}),l=Object(c["computed"])((function(){var e;return!(null!==(e=o.mdl.authority)&&void 0!==e&&e.canEdit)}));o.id=t.query.id,o.id?Object(m["a"])(o.id).then((function(e){o.mdl=e.data,o.list=e.data.cxkcList,o.deleteIds=e.data.delCxkcIds?e.data.delCxkcIds:[],l&&a.pop()})):(Object(m["d"])().then((function(e){o.list=e.data})),Object(b["c"])().then((function(e){Object.assign(o.mdl,r(["ssxy","ssxydm","nj","zymc","zyxjdm","bjmc","bjdm","xh","xm"],e.data))})),Object(m["c"])().then((function(e){o.mdl.xqjc=e.data.xqjc})));var r=function(e,t){var n={};for(var a in t)t.hasOwnProperty(a)&&e.includes(a)&&(n[a]=t[a]);return n},u=function(e){o.list.splice(e,1),o.deleteIds.push(e)},i=function(){var t;return null===(t=e.value)||void 0===t?void 0:t.validate()},p=function(e){var t=e.processParam;0!==o.list.length?(o.mdl.cxkcList=o.list,o.mdl.delCxkcIds=o.deleteIds,Object(m["e"])(Object.assign({},o.mdl,{processParam:t})).then((function(e){d["a"].success("操作成功"),n.back()}))):d["a"].fail("没有重修课程,无法提交!")};return{state:o,formRef:e,disabled:l,onSubmit:p,onValidate:i,columns:a,isStu:Object(f["c"])("jw_xs"),isJxms:Object(f["c"])("jw_jxms"),isXjgly:Object(f["c"])("jw_xjgly"),del:u}}};j.render=o;t["default"]=j},"9bd2":function(e,t,n){},c959:function(e,t,n){"use strict";n("9bd2")},d237:function(e,t,n){"use strict";var a=n("fc11"),c=n("7a23"),o=Object(c["withScopeId"])("data-v-61b6ca12");Object(c["pushScopeId"])("data-v-61b6ca12");var l={key:0,class:"simple-table-empty"};Object(c["popScopeId"])();var r=o((function(e,t,n,o,r,d){return Object(c["openBlock"])(),Object(c["createBlock"])(c["Fragment"],null,[Object(c["createVNode"])("table",Object(c["mergeProps"])({border:"0.5",cellspacing:"0",bordercolor:"",class:"simple-table-container"},e.$attrs),[Object(c["createVNode"])("tr",null,[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(n.columns,(function(e){return Object(c["openBlock"])(),Object(c["createBlock"])("th",{key:e[n.columnsValue],class:"van-hairline--surround"},Object(c["toDisplayString"])(e.title),1)})),128))]),(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(n.dataSource,(function(t,o){return Object(c["openBlock"])(),Object(c["createBlock"])("tr",{key:t[n.rowKey]||o},[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(n.columns,(function(l){return Object(c["openBlock"])(),Object(c["createBlock"])("td",{class:["van-hairline--surround",Object(a["a"])({},l.className,!!l.className)],key:l[n.columnsValue],style:l.style},["slot"===l.type?Object(c["renderSlot"])(e.$slots,l[n.columnsValue],{key:0,text:t[l[n.columnsValue]],record:t,index:o},void 0,!0):(Object(c["openBlock"])(),Object(c["createBlock"])(c["Fragment"],{key:1},[Object(c["createTextVNode"])(Object(c["toDisplayString"])(t[l[n.columnsValue]]),1)],64))],6)})),128))])})),128))],16),n.dataSource&&n.dataSource.length?Object(c["createCommentVNode"])("",!0):(Object(c["openBlock"])(),Object(c["createBlock"])("div",l," 暂无数据 "))],64)})),d={name:"SimpleTable",props:{rowKey:{type:String,default:"id"},columnsValue:{type:String,default:"dataIndex"},columns:{type:Array,default:function(){return[]}},dataSource:{type:Array,default:function(){return[]}}}};n("c959");d.render=r,d.__scopeId="data-v-61b6ca12";t["a"]=d},d32f:function(e,t,n){},f602:function(e,t,n){"use strict";n("b0c0");var a=n("7a23"),c=Object(a["withScopeId"])("data-v-d08a5ff4"),o=c((function(e,t,n,o,l,r){var d=Object(a["resolveComponent"])("van-icon"),u=Object(a["resolveComponent"])("Uploader");return Object(a["openBlock"])(),Object(a["createBlock"])(u,{modelValue:o.fileList,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.fileList=e}),"before-read":o.beforeRead,"after-read":o.afterRead,"max-size":o.isOverSize,"max-count":n.maxCount,accept:n.accept,"show-upload":!n.disabled,deletable:!n.disabled,name:n.name,onDelete:o.onDelete},{"preview-cover":c((function(e){return[Object(a["createVNode"])("div",{class:"mask-content",onClick:Object(a["withModifiers"])((function(t){return o.fileDownLoad(e)}),["stop"])},[Object(a["createVNode"])(d,{name:"down",class:"icon"})],8,["onClick"])]})),_:1},8,["modelValue","before-read","after-read","max-size","max-count","accept","show-upload","deletable","name","onDelete"])})),l=(n("9a83"),n("f564")),r=n("fc11"),d=(n("480b"),n("a37c")),u=(n("e930"),n("8f80")),i=(n("a9e3"),n("d81d"),n("ac1f"),n("1276"),n("4de4"),n("a15b"),n("2934")),s={name:"SUploader",components:Object(r["a"])({Uploader:u["a"]},d["a"].name,d["a"]),props:{modelValue:String,name:String,disabled:{type:Boolean,required:!1},type:{type:[String,void 0],validator:function(e){return void 0===e||-1!==["link"].indexOf(e)}},accept:{type:String,default:".rar,.zip,.doc,.docx,.pdf,.jpg,.png"},maxSize:{type:Number,default:50},maxCount:{type:Number,default:6}},setup:function(e,t){var n=Object(a["ref"])([]),c="link"===e.type,o=function(e){var t=/\.(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg)/i;return t.test(e)};Object(a["watch"])((function(){return e.modelValue}),(function(t,a){var l;c?n.value=null===(l=e.modelValue)||void 0===l?void 0:l.split(",").map((function(e){return{id:e,status:"done",url:e}})):!a&&t&&"-2"!==t?Object(i["h"])({ids:t}).then((function(e){0===e.code&&(n.value=e.data.map((function(e){return{id:e.id,name:e.fname,status:"done",url:o(e.furl)?e.furl:e.fname}})))})):t||(n.value=[])}),{immediate:!0}),Object(a["watch"])((function(){return n.value}),(function(e,n){var a=e.filter((function(e){return"uploading"!==e.status})).map((function(e){return e.id}));0===e.length?t.emit("update:modelValue",""):0===a.length?t.emit("update:modelValue","-2"):t.emit("update:modelValue",a.join(","))}),{deep:!0});var r=function(t){var n=t.size/1024/1024<e.maxSize;return n||Object(l["a"])({type:"warning",message:"上传的文件不能超过".concat(e.maxSize,"MB"),duration:1e3}),!n},d=function(e,t){return!0},u=function(e,t){e.status="uploading",e.message="上传中...";var n=new FormData;n.append("ft",""),n.append("file",e.file),(c?i["f"]:i["e"])(n).then((function(t){0===t.code&&(e.status="done",e.message="上传成功",e.id=c?t.msg:t.data)})).catch((function(){e.status="failed",e.message="上传失败"}))},s=function(e,t){},m=function(){};return{fileList:n,onDelete:s,isOverSize:r,beforeRead:d,afterRead:u,fileDownLoad:m}}};n("1dd3");s.render=o,s.__scopeId="data-v-d08a5ff4";t["a"]=s},fd23:function(e,t,n){"use strict";t["a"]={tsg:33,ky:122,jw:121,tsgYhqj:289}}}]);