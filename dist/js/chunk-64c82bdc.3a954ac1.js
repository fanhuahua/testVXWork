(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-64c82bdc"],{"0cc8":function(e,t,n){"use strict";n("68ef"),n("ae9e")},"1dd3":function(e,t,n){"use strict";n("d32f")},"2c4a":function(e,t,n){},3631:function(e,t,n){"use strict";n("b0c0");var o=n("7a23");function a(e,t,n,a,c,r){var l=Object(o["resolveComponent"])("van-field"),i=Object(o["resolveComponent"])("van-picker"),u=Object(o["resolveComponent"])("van-popup");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],null,[Object(o["createVNode"])(l,{name:n.name,required:a.required,modelValue:a.state.selected.text,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.state.selected.text=e}),"is-link":!a.computedDisabled,readonly:"",disabled:a.computedDisabled,onClick:a.onClick,placeholder:n.placeholder,rules:n.rules,columnsFieldNames:n.columnsFieldNames,label:n.label},null,8,["name","required","modelValue","is-link","disabled","onClick","placeholder","rules","columnsFieldNames","label"]),Object(o["createVNode"])(u,{show:a.state.showPicker,"onUpdate:show":t[3]||(t[3]=function(e){return a.state.showPicker=e}),position:n.position},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{columns:a.sColumns,loading:n.loading,"columns-field-names":n.columnsFieldNames,onConfirm:a.onConfirm,onCancel:t[2]||(t[2]=function(e){return a.state.showPicker=!1})},Object(o["createSlots"])({"columns-top":Object(o["withCtx"])((function(){return[Object(o["renderSlot"])(e.$slots,"columns-top")]})),_:2},[e.$slots.option?{name:"option",fn:Object(o["withCtx"])((function(t){return[Object(o["renderSlot"])(e.$slots,"option",t)]}))}:void 0]),1032,["columns","loading","columns-field-names","onConfirm"])]})),_:1},8,["show","position"])],64)}var c=n("0122"),r=n("d0af"),l=(n("7db0"),n("159b"),n("b64b"),n("2ca0"),n("ac1f"),n("1276"),n("e6b2")),i=n("ca00"),u=n("b48e"),d={name:"SPicker",emits:["click"],props:{modelValue:String,name:{type:String,required:!0},label:{type:String,default:""},placeholder:{type:String,default:"请选择"},columns:{type:Array,default:function(){return[]}},rules:{type:Array,default:function(){return[]}},position:{type:String,default:"bottom"},disabled:{type:Boolean,default:void 0},loading:Boolean,dictName:String,columnsFieldNames:{type:Object,default:function(){return{setValue:void 0,text:"text",values:"values",children:"children"}}}},setup:function(e,t){var n=Object(o["reactive"])({showPicker:!1,selected:{value:"",text:""}}),a=Object(l["a"])(Object(o["toRefs"])(e).disabled),d=Object(o["computed"])((function(){return!!e.rules.find((function(e){return e.required}))})),s=Object(o["toRefs"])(e),m=s.columnsFieldNames,f=s.columns,b=e.dictName?Object(u["b"])([e.dictName])[e.dictName]:f;Object(o["watch"])([function(){return e.modelValue},function(){return b.value}],(function(e,t){var o=Object(r["a"])(e,2),a=o[0],c=o[1],l=Object(r["a"])(t,2),u=(l[0],l[1],m.value.setValue),d=m.value.text,s=!0;if(u&&!Object(i["f"])(a)&&c.length){var f=c.find((function(e){return e[u]===a}));f&&(n.selected.text=f[d],n.selected.value=f[u],s=!1)}s&&(n.selected.text=a,n.selected.value=a)}),{immediate:!0});var p=function(e){t.emit("fbztChange",e.value),t.emit("ssyxChange",e),n.showPicker=!1;var o={value:e,text:e};"object"===Object(c["a"])(e)&&m.value.setValue&&(o.value=e[m.value.setValue],o.text=e[m.value.text]),n.selected=o,Object.keys(t.attrs).forEach((function(n){if(n.startsWith("onUpdate:")){var a=n.split("onUpdate:")[1];t.emit("update:".concat(a),"modelValue"===a?o.value:e[a])}}))},h=function(){!a.value&&(n.showPicker=!0),t.emit("click",{disabled:a.value})};return{state:n,computedDisabled:a,onConfirm:p,onClick:h,required:d,sColumns:b}}};d.render=a;t["a"]=d},8286:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return r})),n.d(t,"e",(function(){return l})),n.d(t,"b",(function(){return i})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return d}));var o=n("b775");function a(){return Object(o["b"])({url:"/ky/kyry/getZhInfo",method:"get",loadingLoader:"getZhInfo",headers:{applicationId:122}})}function c(e){return Object(o["b"])({url:"ky/khsq/list",method:"get",params:e,loadingLoader:"getDataList",headers:{applicationId:122}})}function r(e){return Object(o["b"])({url:"/ky/khsq/"+e,method:"get",loadingLoader:"getKhsq",headers:{applicationId:122}})}function l(e){return Object(o["b"])({url:"/ky/kyry/getZxxmInfo",method:"get",params:e,loadingLoader:"getZxxmInfo",headers:{applicationId:122}})}function i(e){return Object(o["b"])({url:"/ky/kyry/getHxxmInfo",method:"get",params:e,loadingLoader:"getHxxmInfo",headers:{applicationId:122}})}function u(e){return Object(o["b"])({url:"/ky/xmcg/kycg",method:"post",data:e,headers:{applicationId:122}})}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object(o["b"])({url:"/ky/khsq",method:e.id?"put":"post",data:e,loadingLoader:"saveKhsq".concat(t),headers:{applicationId:122}})}},8572:function(e,t,n){"use strict";n.r(t);var o=n("f3f3"),a=n("7a23"),c=Object(a["withScopeId"])("data-v-51fd9e5f");Object(a["pushScopeId"])("data-v-51fd9e5f");var r=Object(a["createVNode"])("div",{style:{height:"20px"}},null,-1),l=Object(a["createVNode"])("div",{style:{height:"20px"}},null,-1),i=Object(a["createVNode"])("div",{style:{height:"20px"}},null,-1),u=Object(a["createVNode"])("div",{style:{"font-size":"18px"}},"声明：",-1),d=Object(a["createVNode"])("div",{style:{"text-indent":"2em","margin-top":"10px"}}," 本人保证所提交的申请和附件材料真实有效，对所填内容和附件的真实性负完全责任，且不存在任何违反国家保密相关法律法规的情形。如有不符或虚假，本人愿意承担相应责任并接受相应处理。 ",-1),s={style:{"margin-top":"20px",float:"left"}},m={style:{"margin-top":"20px",float:"right"}};Object(a["popScopeId"])();var f=c((function(e,t,n,f,b,p){var h=Object(a["resolveComponent"])("van-cell"),j=Object(a["resolveComponent"])("van-cell-group"),x=Object(a["resolveComponent"])("van-field"),O=Object(a["resolveComponent"])("van-picker"),v=Object(a["resolveComponent"])("van-popup"),g=Object(a["resolveComponent"])("van-checkbox"),k=Object(a["resolveComponent"])("van-checkbox-group"),y=Object(a["resolveComponent"])("van-form"),V=Object(a["resolveComponent"])("ApprovalCommon");return Object(a["openBlock"])(),Object(a["createBlock"])(V,Object(a["mergeProps"])(f.state,{"type-name":"科研奖励考核",applyInfo:Object(o["a"])({},f.state),"before-submit-validate":f.onValidate,onSubmit:f.onSubmit,style:{"padding-bottom":"0px"}}),{default:c((function(){return[Object(a["createVNode"])(j,{inset:""},{default:c((function(){return[Object(a["createVNode"])(h,{title:"发起人"},{default:c((function(){return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(f.applyInfo.xm),1)]})),_:1}),Object(a["createVNode"])(h,{title:"所在院系"},{default:c((function(){return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(f.applyInfo.ssxy),1)]})),_:1}),Object(a["createVNode"])(h,{title:"职称/职务"},{default:c((function(){return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(f.applyInfo.zc),1)]})),_:1}),Object(a["createVNode"])(h,{title:"性别"},{default:c((function(){return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(f.applyInfo.xb),1)]})),_:1}),Object(a["createVNode"])(h,{title:"出生年月"},{default:c((function(){return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(f.applyInfo.csrq),1)]})),_:1}),Object(a["createVNode"])(h,{title:"最高学历"},{default:c((function(){return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(f.applyInfo.zgxl),1)]})),_:1}),Object(a["createVNode"])(h,{title:"入职时间"},{default:c((function(){return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(f.applyInfo.rzsj),1)]})),_:1}),Object(a["createVNode"])(h,{title:"联系电话"},{default:c((function(){return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(f.applyInfo.sjh),1)]})),_:1}),Object(a["createVNode"])(h,{title:"专业"},{default:c((function(){return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(f.applyInfo.zymc),1)]})),_:1})]})),_:1}),Object(a["createVNode"])(j,{inset:""},{default:c((function(){return[Object(a["createVNode"])(y,{ref:"formRef","scroll-to-error":""},{default:c((function(){return[Object(a["createVNode"])(x,{disabled:f.disabled,modelValue:f.state.sqlb,"onUpdate:modelValue":t[1]||(t[1]=function(e){return f.state.sqlb=e}),"is-link":"",readonly:"",required:"",name:"申请类别",label:"申请类别",placeholder:"请选择",rules:[{required:!0,message:"请选择"}],onClick:t[2]||(t[2]=function(e){return f.disabled?f.showPickerSqlb=!1:f.showPickerSqlb=!0})},null,8,["disabled","modelValue"]),Object(a["createVNode"])(v,{show:f.showPickerSqlb,"onUpdate:show":t[4]||(t[4]=function(e){return f.showPickerSqlb=e}),position:"bottom"},{default:c((function(){return[Object(a["createVNode"])(O,{title:"申请类别",onConfirm:f.onConfirmSqlb,onCancel:t[3]||(t[3]=function(e){return f.showPickerSqlb=!1}),columns:f.columns},null,8,["onConfirm","columns"])]})),_:1},8,["show"]),Object(a["createVNode"])(x,{disabled:f.disabled,name:"申请金额",label:"申请金额",modelValue:f.state.sqje,"onUpdate:modelValue":t[5]||(t[5]=function(e){return f.state.sqje=e}),type:"number",placeholder:"保留小数点后2位",onChange:f.sqjeChange,required:"",rules:[{required:!0,message:"请输入"}]},null,8,["disabled","modelValue","onChange"]),Object(a["createVNode"])(x,{modelValue:f.zxxmsl,"onUpdate:modelValue":t[6]||(t[6]=function(e){return f.zxxmsl=e}),"is-link":"",readonly:"",name:"纵向项目",label:"纵向项目",placeholder:"请选择",onClick:t[7]||(t[7]=function(e){return f.showPickerZxxm=!0}),rules:[{required:!(f.hxxmsl||f.kycgsl),message:"请添加至少一项项目或成果"}]},null,8,["modelValue","rules"]),Object(a["createVNode"])(v,{show:f.showPickerZxxm,"onUpdate:show":t[11]||(t[11]=function(e){return f.showPickerZxxm=e}),position:"bottom",style:{"max-height":"600px"}},{default:c((function(){return[Object(a["createVNode"])("div",{class:"cancel",onClick:t[8]||(t[8]=function(e){return f.showPickerZxxm=!1})},"取消"),Object(a["createVNode"])("div",{class:"confirm",onClick:t[9]||(t[9]=function(){return f.onConfirmZxxm&&f.onConfirmZxxm.apply(f,arguments)})},"确认"),Object(a["createVNode"])(k,{modelValue:f.checkedZx,"onUpdate:modelValue":t[10]||(t[10]=function(e){return f.checkedZx=e}),class:"checkboxGroup",disabled:f.disabled},{default:c((function(){return[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(f.zxxmList,(function(e){return Object(a["openBlock"])(),Object(a["createBlock"])(g,{name:e.xmbh,key:e.id,class:"checkbox"},{default:c((function(){return[Object(a["createTextVNode"])("　"+Object(a["toDisplayString"])(e.xmmc.length>10?e.xmmc.substr(0,10)+"...":e.xmmc)+"　"+Object(a["toDisplayString"])(e.xmbh),1)]})),_:2},1032,["name"])})),128)),r]})),_:1},8,["modelValue","disabled"])]})),_:1},8,["show"]),Object(a["createVNode"])(x,{modelValue:f.hxxmsl,"onUpdate:modelValue":t[12]||(t[12]=function(e){return f.hxxmsl=e}),"is-link":"",readonly:"",name:"横向项目",label:"横向项目",placeholder:"请选择",onClick:t[13]||(t[13]=function(e){return f.showPickerHxxm=!0}),rules:[{required:!(f.zxxmsl||f.kycgsl),message:"请添加至少一项项目或成果"}]},null,8,["modelValue","rules"]),Object(a["createVNode"])(v,{show:f.showPickerHxxm,"onUpdate:show":t[17]||(t[17]=function(e){return f.showPickerHxxm=e}),position:"bottom",style:{"max-height":"600px"}},{default:c((function(){return[Object(a["createVNode"])("div",{class:"cancel",onClick:t[14]||(t[14]=function(e){return f.showPickerHxxm=!1})},"取消"),Object(a["createVNode"])("div",{class:"confirm",onClick:t[15]||(t[15]=function(){return f.onConfirmHxxm&&f.onConfirmHxxm.apply(f,arguments)})},"确认"),Object(a["createVNode"])(k,{modelValue:f.checkedHx,"onUpdate:modelValue":t[16]||(t[16]=function(e){return f.checkedHx=e}),class:"checkboxGroup",disabled:f.disabled},{default:c((function(){return[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(f.hxxmList,(function(e){return Object(a["openBlock"])(),Object(a["createBlock"])(g,{name:e.xmbh,key:e.id,class:"checkbox"},{default:c((function(){return[Object(a["createTextVNode"])("　"+Object(a["toDisplayString"])(e.xmmc.length>10?e.xmmc.substr(0,10)+"...":e.xmmc)+"　"+Object(a["toDisplayString"])(e.xmbh),1)]})),_:2},1032,["name"])})),128)),l]})),_:1},8,["modelValue","disabled"])]})),_:1},8,["show"]),Object(a["createVNode"])(x,{modelValue:f.kycgsl,"onUpdate:modelValue":t[18]||(t[18]=function(e){return f.kycgsl=e}),"is-link":"",readonly:"",name:"科研成果",label:"科研成果",placeholder:"请选择",onClick:t[19]||(t[19]=function(e){return f.showPickerKycg=!0}),rules:[{required:!(f.hxxmsl||f.zxxmsl),message:"请添加至少一项项目或成果"}]},null,8,["modelValue","rules"]),Object(a["createVNode"])(v,{show:f.showPickerKycg,"onUpdate:show":t[23]||(t[23]=function(e){return f.showPickerKycg=e}),position:"bottom",style:{"max-height":"600px"}},{default:c((function(){return[Object(a["createVNode"])("div",{class:"cancel",onClick:t[20]||(t[20]=function(e){return f.showPickerKycg=!1})},"取消"),Object(a["createVNode"])("div",{class:"confirm",onClick:t[21]||(t[21]=function(){return f.onConfirmKycg&&f.onConfirmKycg.apply(f,arguments)})},"确认"),Object(a["createVNode"])(k,{modelValue:f.checkedKycg,"onUpdate:modelValue":t[22]||(t[22]=function(e){return f.checkedKycg=e}),class:"checkboxGroup",disabled:f.disabled},{default:c((function(){return[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(f.kycgList,(function(e){return Object(a["openBlock"])(),Object(a["createBlock"])(g,{name:e.cgmc,class:"checkbox",key:e.id},{default:c((function(){return[Object(a["createTextVNode"])("　"+Object(a["toDisplayString"])(e.cgmc.length>15?e.cgmc.substr(0,15)+"...":e.cgmc),1)]})),_:2},1032,["name"])})),128)),i]})),_:1},8,["modelValue","disabled"])]})),_:1},8,["show"])]})),_:1},512)]})),_:1}),Object(a["createVNode"])(j,{inset:""},{default:c((function(){return[Object(a["createVNode"])(h,{style:{"letter-spacing":"1px","margin-top":"20px","margin-bottom":"10px"}},{default:c((function(){return[u,d,Object(a["createVNode"])("div",s," 声明人："+Object(a["toDisplayString"])(f.applyInfo.xm),1),Object(a["createVNode"])("div",m,Object(a["toDisplayString"])(f.state.createTime?f.moment(f.state.createTime).format("YYYY年MM月DD日"):f.moment().format("YYYY年MM月DD日")),1)]})),_:1})]})),_:1})]})),_:1},16,["applyInfo","before-submit-validate","onSubmit"])})),b=(n("9a83"),n("f564")),p=n("fc11"),h=(n("0cc8"),n("3104")),j=(n("a909"),n("3acc")),x=(n("3c32"),n("417e")),O=(n("d82d"),n("7278")),v=(n("b0c0"),n("7db0"),n("3631")),g=n("f602"),k=n("135f"),y=n("6c02"),V=n("9670b"),w=n("8286"),C=n("c1df"),N=n.n(C),S=n("5502"),D={name:"khjl",components:Object(p["a"])({SDatetimePicker:V["a"],ApprovalCommon:k["a"],SUploader:g["a"],SPicker:v["a"],vanPopover:O["a"],vanCheckbox:x["a"],vanCheckboxGroup:j["a"]},h["b"].name,h["b"]),created:function(){var e=this;this.$store.dispatch("dict/getDict","kyjlkh"),setTimeout((function(){for(var t=[],n=0;n<e.kyjlkh.length;n++)t.push(e.kyjlkh[n].dictLabel);e.columns=t}),500)},computed:Object(o["a"])({},Object(S["c"])("dict",["kyjlkh"])),setup:function(){var e=Object(a["reactive"])({authority:{canEdit:!0},zxxmList:[],hxxmList:[],khcgList:[],id:0}),t=Object(a["ref"])(!1),n=Object(a["ref"])(null),c=Object(y["d"])(),r=Object(a["ref"])(!1),l=function(t){e.sqlb=t,r.value=!1},i=Object(a["ref"])({}),u=Object(y["c"])(),d=u.query;d.id?Object(w["c"])(d.id).then((function(n){var o;Object.assign(e,n.data),i.value=n.data.kyry,t.value=!(null!==(o=e.authority)&&void 0!==o&&o.canEdit),L(),p.value="已选"+e.zxxmList.length+"项",v.value="已选"+e.hxxmList.length+"项",S.value="已选"+e.khcgList.length+"项";for(var a=0;a<e.zxxmList.length;a++)f.value.push(e.zxxmList[a].xmbh);for(var c=0;c<e.hxxmList.length;c++)O.value.push(e.hxxmList[c].xmbh);for(var r=0;r<e.khcgList.length;r++)C.value.push(e.khcgList[r].cgmc)})):Object(w["d"])().then((function(e){i.value=e.data,L()}));var s=Object(a["ref"])([]),m=Object(a["ref"])(!1),f=Object(a["ref"])([]),p=Object(a["ref"])(null),h=Object(a["ref"])([]),j=function(){if(p.value=null,e.zxxmList=[],f.value.length){p.value="已选"+f.value.length+"项";for(var t=function(t){e.zxxmList.push(h.value.find((function(e){return e.xmbh===f.value[t]})))},n=0;n<f.value.length;n++)t(n)}m.value=!1},x=Object(a["ref"])(!1),O=Object(a["ref"])([]),v=Object(a["ref"])(null),g=Object(a["ref"])([]),k=function(){if(v.value=null,e.hxxmList=[],O.value.length){v.value="已选"+O.value.length+"项";for(var t=function(t){e.hxxmList.push(g.value.find((function(e){return e.xmbh===O.value[t]})))},n=0;n<O.value.length;n++)t(n)}x.value=!1},V=Object(a["ref"])(!1),C=Object(a["ref"])([]),S=Object(a["ref"])(null),D=Object(a["ref"])([]),q=function(){if(S.value=null,e.khcgList=[],C.value.length){S.value="已选"+C.value.length+"项";for(var t=function(t){e.khcgList.push(D.value.find((function(e){return e.cgmc===C.value[t]})))},n=0;n<C.value.length;n++)t(n)}V.value=!1},L=function(){Object(w["e"])({lx:1,zgh:i.value.zgh}).then((function(e){h.value=e.rows})),Object(w["b"])({lx:1,zgh:i.value.zgh}).then((function(e){g.value=e.rows})),Object(w["f"])({pageNum:1,pageSize:999}).then((function(e){D.value=e.rows}))},P=function(){e.sqje=Math.floor(100*e.sqje)/100},z=function(){var e;return null===(e=n.value)||void 0===e?void 0:e.validate()},_=function(t){e.ssyxdm=i.value.ssxydm,e.ssyxmc=i.value.ssxy,Object(w["g"])(Object(o["a"])(Object(o["a"])({},t),e),null,"提交中").then((function(e){0===e.code&&(Object(b["a"])({type:"success",message:"提交成功",duration:1e3}),c.back())}))};return{state:e,columns:s,checkedZx:f,sqjeChange:P,zxxmsl:p,showPickerZxxm:m,onConfirmZxxm:j,zxxmList:h,checkedHx:O,hxxmsl:v,showPickerHxxm:x,onConfirmHxxm:k,hxxmList:g,checkedKycg:C,kycgsl:S,showPickerKycg:V,onConfirmKycg:q,kycgList:D,formRef:n,disabled:t,applyInfo:i,onSubmit:_,moment:N.a,showPickerSqlb:r,onConfirmSqlb:l,onValidate:z}}};n("fa75");D.render=f,D.__scopeId="data-v-51fd9e5f";t["default"]=D},"9670b":function(e,t,n){"use strict";n("b0c0");var o=n("7a23");function a(e,t,n,a,c,r){var l=Object(o["resolveComponent"])("van-field"),i=Object(o["resolveComponent"])("van-datetime-picker"),u=Object(o["resolveComponent"])("van-popup");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],null,[Object(o["createVNode"])(l,{required:a.required,modelValue:n.modelValue,readonly:"","is-link":!a.computedDisabled,name:n.name,label:n.label,placeholder:n.placeholder,disabled:a.computedDisabled,onClick:t[1]||(t[1]=function(e){return!a.computedDisabled&&(a.state.showPicker=!0)}),rules:n.rules},null,8,["required","modelValue","is-link","name","label","placeholder","disabled","rules"]),Object(o["createVNode"])(u,{show:a.state.showPicker,"onUpdate:show":t[4]||(t[4]=function(e){return a.state.showPicker=e}),position:n.position},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{type:n.type,onConfirm:a.onConfirm,onCancel:t[2]||(t[2]=function(e){return a.state.showPicker=!1}),"min-date":n.minDate,"max-date":n.maxDate,modelValue:n.currentDate,"onUpdate:modelValue":t[3]||(t[3]=function(e){return n.currentDate=e})},null,8,["type","onConfirm","min-date","max-date","modelValue"])]})),_:1},8,["show","position"])],64)}var c=n("fc11"),r=(n("d1cf"),n("ee83")),l=(n("7db0"),n("5a0c")),i=n.n(l),u=n("e6b2"),d={name:"SDatetimePicker",emits:["update:modelValue"],components:Object(c["a"])({},r["a"].name,r["a"]),props:{modelValue:String,name:{type:String,required:!1},label:{type:String,required:!1},placeholder:{type:String,default:"请选择"},rules:{type:Array,default:function(){return[]}},type:{type:String,default:"date"},valueFormat:{type:String,required:!1},position:{type:String,default:"bottom"},disabled:{type:Boolean,default:void 0},minDate:{type:[Date,String]},maxDate:{type:[Date,String]},currentDate:{type:Date,default:new Date}},setup:function(e,t){var n=Object(u["a"])(Object(o["toRefs"])(e).disabled),a=Object(o["computed"])((function(){return!!e.rules.find((function(e){return e.required}))})),c=Object(o["reactive"])({showPicker:!1,value:void 0}),r=function(n){var o=e.valueFormat?i()(n).format(e.valueFormat):n;c.value=o,t.emit("update:modelValue",o),c.showPicker=!1};return{state:c,required:a,computedDisabled:n,onConfirm:r,sMinDate:e.minDate?i()(e.minDate).toDate():void 0,sMaxDate:e.maxDate?i()(e.maxDate).toDate():void 0}}};d.render=a;t["a"]=d},d32f:function(e,t,n){},f602:function(e,t,n){"use strict";n("b0c0");var o=n("7a23"),a=Object(o["withScopeId"])("data-v-d08a5ff4"),c=a((function(e,t,n,c,r,l){var i=Object(o["resolveComponent"])("van-icon"),u=Object(o["resolveComponent"])("Uploader");return Object(o["openBlock"])(),Object(o["createBlock"])(u,{modelValue:c.fileList,"onUpdate:modelValue":t[1]||(t[1]=function(e){return c.fileList=e}),"before-read":c.beforeRead,"after-read":c.afterRead,"max-size":c.isOverSize,"max-count":n.maxCount,accept:n.accept,"show-upload":!n.disabled,deletable:!n.disabled,name:n.name,onDelete:c.onDelete},{"preview-cover":a((function(e){return[Object(o["createVNode"])("div",{class:"mask-content",onClick:Object(o["withModifiers"])((function(t){return c.fileDownLoad(e)}),["stop"])},[Object(o["createVNode"])(i,{name:"down",class:"icon"})],8,["onClick"])]})),_:1},8,["modelValue","before-read","after-read","max-size","max-count","accept","show-upload","deletable","name","onDelete"])})),r=(n("9a83"),n("f564")),l=n("fc11"),i=(n("480b"),n("a37c")),u=(n("e930"),n("8f80")),d=(n("a9e3"),n("d81d"),n("ac1f"),n("1276"),n("4de4"),n("a15b"),n("2934")),s={name:"SUploader",components:Object(l["a"])({Uploader:u["a"]},i["a"].name,i["a"]),props:{modelValue:String,name:String,disabled:{type:Boolean,required:!1},type:{type:[String,void 0],validator:function(e){return void 0===e||-1!==["link"].indexOf(e)}},accept:{type:String,default:".rar,.zip,.doc,.docx,.pdf,.jpg,.png"},maxSize:{type:Number,default:50},maxCount:{type:Number,default:6}},setup:function(e,t){var n=Object(o["ref"])([]),a="link"===e.type,c=function(e){var t=/\.(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg)/i;return t.test(e)};Object(o["watch"])((function(){return e.modelValue}),(function(t,o){var r;a?n.value=null===(r=e.modelValue)||void 0===r?void 0:r.split(",").map((function(e){return{id:e,status:"done",url:e}})):!o&&t&&"-2"!==t?Object(d["h"])({ids:t}).then((function(e){0===e.code&&(n.value=e.data.map((function(e){return{id:e.id,name:e.fname,status:"done",url:c(e.furl)?e.furl:e.fname}})))})):t||(n.value=[])}),{immediate:!0}),Object(o["watch"])((function(){return n.value}),(function(e,n){var o=e.filter((function(e){return"uploading"!==e.status})).map((function(e){return e.id}));0===e.length?t.emit("update:modelValue",""):0===o.length?t.emit("update:modelValue","-2"):t.emit("update:modelValue",o.join(","))}),{deep:!0});var l=function(t){var n=t.size/1024/1024<e.maxSize;return n||Object(r["a"])({type:"warning",message:"上传的文件不能超过".concat(e.maxSize,"MB"),duration:1e3}),!n},i=function(e,t){return!0},u=function(e,t){e.status="uploading",e.message="上传中...";var n=new FormData;n.append("ft",""),n.append("file",e.file),(a?d["f"]:d["e"])(n).then((function(t){0===t.code&&(e.status="done",e.message="上传成功",e.id=a?t.msg:t.data)})).catch((function(){e.status="failed",e.message="上传失败"}))},s=function(e,t){},m=function(){};return{fileList:n,onDelete:s,isOverSize:l,beforeRead:i,afterRead:u,fileDownLoad:m}}};n("1dd3");s.render=c,s.__scopeId="data-v-d08a5ff4";t["a"]=s},fa75:function(e,t,n){"use strict";n("2c4a")}}]);