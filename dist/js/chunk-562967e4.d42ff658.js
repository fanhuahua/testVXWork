(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-562967e4"],{1703:function(e,t,a){},2241:function(e,t,a){"use strict";var n,o=a("7a23"),c=a("db17"),l=a("c199"),r=a("1da4"),i=a("d282"),s=a("7e3e"),u=a("8da3"),d=a("b1d2"),b=a("ea8e"),f=a("f827"),m=a("e41f"),O=a("b650"),p=a("d3d4"),v=a("a792"),[j,g,h]=Object(i["a"])("dialog"),w=[...f["a"],"transition","closeOnPopstate"],B=Object(o["defineComponent"])({name:j,props:Object(c["a"])({},f["b"],{title:String,theme:String,width:[Number,String],message:[String,Function],callback:Function,allowHtml:Boolean,className:c["g"],messageAlign:String,closeOnPopstate:c["f"],showCancelButton:Boolean,cancelButtonText:String,cancelButtonColor:String,confirmButtonText:String,confirmButtonColor:String,showConfirmButton:c["f"],closeOnClickOverlay:Boolean,transition:{type:String,default:"van-dialog-bounce"}}),emits:["confirm","cancel","update:show"],setup(e,{emit:t,slots:a}){var n=Object(o["reactive"])({confirm:!1,cancel:!1}),l=e=>t("update:show",e),r=t=>{l(!1),e.callback&&e.callback(t)},i=a=>()=>{e.show&&(t(a),e.beforeClose?(n[a]=!0,Object(s["a"])({interceptor:e.beforeClose,args:[a],done(){r(a),n[a]=!1},canceled(){n[a]=!1}})):r(a))},f=i("cancel"),j=i("confirm"),B=()=>{var t=a.title?a.title():e.title;if(t)return Object(o["createVNode"])("div",{class:g("header",{isolated:!e.message&&!a.default})},[t])},C=t=>{var{message:a,allowHtml:n,messageAlign:c}=e,l=g("message",{"has-title":t,[c]:c}),r=Object(u["c"])(a)?a():a;return n&&"string"===typeof r?Object(o["createVNode"])("div",{class:l,innerHTML:r},null):Object(o["createVNode"])("div",{class:l},[r])},k=()=>{if(a.default)return Object(o["createVNode"])("div",{class:g("content")},[a.default()]);var{title:t,message:n,allowHtml:c}=e;if(n){var l=!(!t&&!a.title);return Object(o["createVNode"])("div",{key:c?1:0,class:g("content",{isolated:!l})},[C(l)])}},y=()=>Object(o["createVNode"])("div",{class:[d["e"],g("footer")]},[e.showCancelButton&&Object(o["createVNode"])(O["a"],{size:"large",text:e.cancelButtonText||h("cancel"),class:g("cancel"),style:{color:e.cancelButtonColor},loading:n.cancel,onClick:f},null),e.showConfirmButton&&Object(o["createVNode"])(O["a"],{size:"large",text:e.confirmButtonText||h("confirm"),class:[g("confirm"),{[d["c"]]:e.showCancelButton}],style:{color:e.confirmButtonColor},loading:n.confirm,onClick:j},null)]),N=()=>Object(o["createVNode"])(p["a"],{class:g("footer")},{default:()=>[e.showCancelButton&&Object(o["createVNode"])(v["a"],{type:"warning",text:e.cancelButtonText||h("cancel"),class:g("cancel"),color:e.cancelButtonColor,loading:n.cancel,onClick:f},null),e.showConfirmButton&&Object(o["createVNode"])(v["a"],{type:"danger",text:e.confirmButtonText||h("confirm"),class:g("confirm"),color:e.confirmButtonColor,loading:n.confirm,onClick:j},null)]}),x=()=>a.footer?a.footer():"round-button"===e.theme?N():y();return()=>{var{width:t,title:a,theme:n,message:r,className:i}=e;return Object(o["createVNode"])(m["a"],Object(o["mergeProps"])({role:"dialog",class:[g([n]),i],style:{width:Object(b["a"])(t)},"aria-labelledby":a||r},Object(c["e"])(e,w),{"onUpdate:show":l}),{default:()=>[B(),k(),x()]})}}});function C(){var e={setup(){var{state:e,toggle:t}=Object(r["b"])();return()=>Object(o["createVNode"])(B,Object(o["mergeProps"])(e,{"onUpdate:show":t}),null)}};({instance:n}=Object(r["a"])(e))}function k(e){return c["c"]?new Promise((t,a)=>{n||C(),n.open(Object(c["a"])({},k.currentOptions,e,{callback:e=>{("confirm"===e?t:a)(e)}}))}):Promise.resolve()}k.defaultOptions={title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:"van-dialog-bounce",beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,confirmButtonText:"",confirmButtonColor:null,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1},k.currentOptions=Object(c["a"])({},k.defaultOptions),k.alert=k,k.confirm=e=>k(Object(c["a"])({showCancelButton:!0},e)),k.close=()=>{n&&n.toggle(!1)},k.setDefaultOptions=e=>{Object(c["a"])(k.currentOptions,e)},k.resetDefaultOptions=()=>{k.currentOptions=Object(c["a"])({},k.defaultOptions)},k.Component=Object(l["a"])(B),k.install=e=>{e.use(k.Component),e.config.globalProperties.$dialog=k};t["a"]=k},"2fcb":function(e,t,a){},"96fd":function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a("7a23"),o=a("d282"),c=a("db17"),l=a("a6cd"),[r,i]=Object(o["a"])("action-bar"),s=Symbol(r);t["b"]=Object(n["defineComponent"])({name:r,props:{safeAreaInsetBottom:c["f"]},setup(e,{slots:t}){var{linkChildren:a}=Object(l["a"])(s);return a(),()=>Object(n["createVNode"])("div",{class:[i(),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[null==t.default?void 0:t.default()])}})},a792:function(e,t,a){"use strict";a.d(t,"a",(function(){return O}));var n=a("c199"),o=a("7a23"),c=a("d282"),l=a("db17"),r=a("96fd"),i=a("6ba6"),s=a("4eda"),u=a("b070"),d=a("b650"),[b,f]=Object(c["a"])("action-bar-button"),m=Object(o["defineComponent"])({name:b,props:Object(l["a"])({},u["b"],{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean}),setup(e,{slots:t}){var a=Object(u["c"])(),{parent:n,index:c}=Object(i["a"])(r["a"]),l=Object(o["computed"])(()=>{if(n){var e=n.children[c.value-1];return!(e&&"isButton"in e)}}),b=Object(o["computed"])(()=>{if(n){var e=n.children[c.value+1];return!(e&&"isButton"in e)}});return Object(s["a"])({isButton:!0}),()=>{var{type:n,icon:c,text:r,color:i,loading:s,disabled:u}=e;return Object(o["createVNode"])(d["a"],{class:f([n,{last:b.value,first:l.value}]),size:"large",type:n,icon:c,color:i,loading:s,disabled:u,onClick:a},{default:()=>[t.default?t.default():r]})}}}),O=Object(n["a"])(m);t["b"]=O},bbdf:function(e,t,a){"use strict";a("fe3a")},cc54:function(e,t,a){"use strict";a.r(t);var n=a("7a23"),o=Object(n["withScopeId"])("data-v-71ad1c6c");Object(n["pushScopeId"])("data-v-71ad1c6c");var c={class:"text"},l={class:"text-address"};Object(n["popScopeId"])();var r=o((function(e,t,a,o,r,i){var s=Object(n["resolveComponent"])("van-cell");return Object(n["openBlock"])(),Object(n["createBlock"])(n["Fragment"],null,[Object(n["createVNode"])(s,{title:"姓名",value:o.xm},null,8,["value"]),Object(n["createVNode"])(s,{title:"学号",value:o.xh},null,8,["value"]),Object(n["createVNode"])("div",{ref:"card",style:o.isOk?"":"background:grey;",class:{card:!0,"active-card":o.isDk},onClick:t[1]||(t[1]=function(){return o.dk&&o.dk.apply(o,arguments)})},[Object(n["createVNode"])("div",c,Object(n["toDisplayString"])(o.isDk?"打卡成功":"打卡"),1),Object(n["createVNode"])("span",null,Object(n["toDisplayString"])(o.time.format("HH:mm:ss")),1)],6),Object(n["createVNode"])("div",l,Object(n["toDisplayString"])(o.isOk?o.address:"定位中"),1)],64)})),i=a("fc11"),s=(a("e17f"),a("2241")),u=(a("e7e5"),a("d399")),d=(a("b0c0"),a("5a0c")),b=a.n(d),f=a("b775");function m(e){return Object(f["b"])({url:"/jw/sxap/dk",method:"post",data:e})}var O,p,v=a("5502"),j={components:(O={},Object(i["a"])(O,u["a"].name,u["a"]),Object(i["a"])(O,s["a"].name,s["a"]),O),beforeUnmount:function(){clearInterval(p)},setup:function(){var e=Object(v["d"])(),t=Object(n["ref"])(""),a=Object(n["ref"])(!1),o=Object(n["ref"])(null),c=Object(n["ref"])(!1),l=0,r=setInterval((function(){l++,d.value&&clearInterval(r),l>10&&(s["a"].alert({message:"请打开该应用获取位置权限"}).then((function(){})),clearInterval(r))}),1e3);Object(n["onUnmounted"])((function(){clearInterval(r)}));var i=function(){c.value&&m({xm:e.getters.nickname,xh:e.getters.userName,dksj:t.value.format("YYYY-MM-DD HH:mm:ss"),dkdd:d.value}).then((function(e){0===e.code&&u["a"].success("打卡成功")}))},d=Object(n["ref"])("");t.value=b()(),p=setInterval((function(){t.value=b()()}),1e3);var f="https://webapi.amap.com/maps?v=1.4.15&key=6525e4cc059d4986aac42ec4abb14755&callback=onLoadMap",O=document.createElement("script");return O.charset="utf-8",O.src=f,document.head.appendChild(O),window.onLoadMap=function(){AMap.plugin("AMap.Geolocation",(function(){var e=new AMap.Geolocation({enableHighAccuracy:!0,timeout:1e4,position:"RB",buttonOffset:new AMap.Pixel(10,20),zoomToAccuracy:!0});e.getCurrentPosition((function(e,t){if("complete"!=e)throw Error(t);d.value=t.formattedAddress,d.value&&(c.value=!0)}))}))},{dayjs:b.a,time:t,address:d,dk:i,isDk:a,card:o,xm:e.getters.nickname,xh:e.getters.userName,isOk:c}}};a("bbdf");j.render=r,j.__scopeId="data-v-71ad1c6c";t["default"]=j},d3d4:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a("c199"),o=a("96fd"),c=Object(n["a"])(o["b"]);t["b"]=c},d4ef:function(e,t,a){},e17f:function(e,t,a){"use strict";a("68ef"),a("d4ef"),a("cb51"),a("3743"),a("e3b3"),a("bc1b"),a("1703"),a("a71a"),a("4d75"),a("2fcb")},fe3a:function(e,t,a){}}]);